â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  ğŸš¨ URGENT: BANDWIDTH QUOTA EXCEEDED                           â”ƒ
â”ƒ  Fix Required: Delete Old Images                               â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

ğŸ“Š CURRENT STATUS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Egress Usage:      11.5 GB / 5 GB  (231% OVER QUOTA!)
  API Status:        âŒ BLOCKED
  Login Status:      âŒ FAILS
  Impact:            Cannot use app
  Fix Required:      Delete 150-200 old images

ğŸ¯ QUICK FIX (10 MINUTES)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 1: Open Supabase Dashboard
  â†’ https://supabase.com/dashboard
  â†’ Sign in
  â†’ Select project: cgufwwnovnzrrvnrntbo

STEP 2: Delete Files from Storage
  â†’ Left sidebar: Storage
  â†’ Click: images bucket
  â†’ Sort by: Upload date (oldest first)
  â†’ Select: First 50-100 files
  â†’ Click: Delete
  â†’ Repeat: 2-3 times (total 150-200 files)

STEP 3: Delete Database Records
  â†’ Left sidebar: SQL Editor
  â†’ New Query
  â†’ Paste:
    DELETE FROM images 
    WHERE id IN (
      SELECT id FROM images 
      ORDER BY created_at ASC 
      LIMIT 150
    );
  â†’ Run

STEP 4: Verify
  â†’ Wait: 10-15 minutes
  â†’ Check: Project Settings â†’ Usage
  â†’ Egress should drop to ~140-180%
  â†’ Test: Try login again

ğŸ“ CREATED FILES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… MANUAL_CLEANUP_GUIDE.md
   â†’ Detailed step-by-step guide
   â†’ Screenshots and instructions
   â†’ READ THIS FIRST!

âœ… scripts/cleanup-old-images.ts
   â†’ Automated cleanup script
   â†’ Use AFTER API is unblocked
   â†’ Run: npx tsx scripts/cleanup-old-images.ts

âœ… scripts/cleanup-images.sql
   â†’ SQL queries for manual cleanup
   â†’ Copy/paste into SQL Editor
   â†’ Multiple deletion options

âœ… scripts/analyze-storage.ts
   â†’ Analyze current storage usage
   â†’ Run AFTER API is unblocked
   â†’ Run: npx tsx scripts/analyze-storage.ts

âœ… IMAGE_CLEANUP_SUMMARY.md
   â†’ Complete technical documentation
   â†’ All details and troubleshooting

ğŸ”§ AUTOMATED CLEANUP (Use After API Fix)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# Analyze storage first
npx tsx scripts/analyze-storage.ts

# Run automated cleanup
npx tsx scripts/cleanup-old-images.ts

# Check results
âœ“ Shows images count before/after
âœ“ Displays deletion progress
âœ“ Estimates bandwidth freed
âœ“ Safe (max 200 images at once)

ğŸ“Š EXPECTED IMPACT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Images Deleted â”‚ Bandwidth Freed â”‚ New Egress %
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     100       â”‚     ~2-3 GB     â”‚   ~180%
     150       â”‚     ~3-4 GB     â”‚   ~150%
     200       â”‚     ~4-6 GB     â”‚   ~120%
     300       â”‚     ~6-9 GB     â”‚   ~80%

TARGET: Get below 150% (ideally < 120%)

â° TIMELINE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

NOW           â†’ Delete images manually (10 min)
+10-15 min    â†’ Quota stats update
+15-30 min    â†’ API should be unblocked
+30 min       â†’ Test login, run automated scripts
Dec 2, 2025   â†’ Quota fully resets

âœ… SUCCESS CRITERIA
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ Deleted 150+ images
âœ“ Egress below 180%
âœ“ API accessible
âœ“ Login works
âœ“ App functional

ğŸ†˜ TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Q: Still blocked after cleanup?
A: Wait longer (15-30 min), delete more images

Q: How many images to delete?
A: Start with 150, check stats, delete more if needed

Q: Safe to delete everything?
A: Yes, if you don't need the history

Q: Scripts not working?
A: API must be unblocked first (use manual method)

ğŸ“ WHAT TO SHOW ME AFTER CLEANUP
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Screenshot: Usage page (new Egress %)
2. Number: Files deleted from Storage
3. Number: Records deleted from Database  
4. Status: Can login? (yes/no)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  START HERE: Read MANUAL_CLEANUP_GUIDE.md                      â”ƒ
â”ƒ  Then: Go to Supabase Dashboard and delete old images          â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
